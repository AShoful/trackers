{"version":3,"sources":["redux/actionTypes.js","Components/Input/Input.js","redux/action/action.js","Components/Tracker/Tracker.js","App.js","redux/store.js","reportWebVitals.js","redux/reducer/trackers.js","redux/reducer/tick.js","redux/reducer/index.js","index.js"],"names":["ADD_TRACKER","DELETE_TRACKER","STOP_TRACKER","START_TRACKER","START_TICK","Input","useState","value","setValue","dispatch","useDispatch","handleSubmit","e","preventDefault","date","data","id","Date","now","name","toLocaleString","split","currentTrackValue","timeStart","isStarted","type","addTracker","className","onSubmit","placeholder","onChange","target","onClick","format","t","pad","Math","floor","getUTCMinutes","getUTCSeconds","n","Tracker","removeTracker","deleteTracker","tracker","useSelector","state","trackers","filter","item","tick","store","checkStart","length","slice","valueTrack","valueTrackAfterFormat","handleClick","stopTracker","startTracker","App","preloadedState","sort","a","b","useEffect","timer","setInterval","ts","clearInterval","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","savedTrackers","load","namespace","initialState","combinedReducer","combineReducers","action","st","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","save","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a9595a4.chunk.js","sourcesContent":["export const ADD_TRACKER = \"ADD_TRACKER\";\nexport const DELETE_TRACKER = \"DELETE_TRACKER\";\nexport const STOP_TRACKER = \"STOP_TRACKER\";\nexport const START_TRACKER = \"START_TRACKER\";\nexport const START_TICK = \"START_TICK\";\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { addTracker } from \"../../redux/action/action\";\nimport \"./Input.css\";\n\nconst Input = () => {\n  const [value, setValue] = useState(\"\");\n  const dispatch = useDispatch();\n  const defaultName = (date) => new Date(date).toLocaleString().split(\", \")[0];\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const data = {\n      id: Date.now(),\n      name: value || defaultName(Date.now()),\n      currentTrackValue: 0,\n      timeStart: Date.now(),\n      isStarted: true,\n    };\n    dispatch(addTracker(data));\n    setValue(\"\");\n  };\n\n  return (\n    <div className=\"Input\">\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"enter tracker's name\"\n          onChange={(e) => setValue(e.target.value)}\n          value={value}\n        />\n        <span onClick={handleSubmit} className=\"material-icons\">\n          play_circle_outline\n        </span>\n      </form>\n    </div>\n  );\n};\n\nexport default Input;\n","import {\n  ADD_TRACKER,\n  DELETE_TRACKER,\n  STOP_TRACKER,\n  START_TRACKER,\n  START_TICK,\n} from \"../actionTypes\";\n\n// --- action trackers\n\nexport const addTracker = (data) => ({\n  type: ADD_TRACKER,\n  data,\n});\n\nexport const deleteTracker = (id) => ({\n  type: DELETE_TRACKER,\n  id,\n});\n\nexport const stopTracker = (id, currentTrackValue) => ({\n  type: STOP_TRACKER,\n  id,\n  currentTrackValue,\n});\n\nexport const startTracker = (id) => ({\n  type: START_TRACKER,\n  id,\n});\n\n// --- action tick\n\nexport const startTick = () => ({\n  type: START_TICK,\n  ts: Date.now(),\n});\n","import React from \"react\";\nimport \"./Tracker.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  deleteTracker,\n  stopTracker,\n  startTracker,\n} from \"../../redux/action/action\";\n\nconst format = (t) =>\n  `${pad(Math.floor(t / 1000 / 60 / 60))}:${pad(t.getUTCMinutes())}:${pad(\n    t.getUTCSeconds()\n  )}`;\nconst pad = (n) => (n < 10 ? `0${n}` : n);\n\nconst Tracker = ({ id }) => {\n  const dispatch = useDispatch();\n  const removeTracker = (id) => dispatch(deleteTracker(id));\n  const tracker = useSelector((state) =>\n    state.trackers.filter((item) => item.id === id)\n  )[0];\n  const tick = useSelector((store) => store.tick);\n  const checkStart = tracker.isStarted;\n\n  const name =\n    tracker.name.length > 10 ? tracker.name.slice(0, 7) + \"...\" : tracker.name;\n\n  const valueTrack = tick - tracker.timeStart + tracker.currentTrackValue;\n\n  const valueTrackAfterFormat = checkStart\n    ? format(new Date(valueTrack))\n    : format(new Date(tracker.currentTrackValue));\n\n  const handleStopTraker = (id, value) => {\n    dispatch(stopTracker(id, value));\n  };\n\n  const handleStartTracker = (id) => {\n    dispatch(startTracker(id));\n  };\n\n  const handleClick = checkStart ? handleStopTraker : handleStartTracker;\n\n  return (\n    <div className={checkStart ? \"Tracker\" : \"Tracker stop\"}>\n      <div className=\"Tracker_panel\">\n        <span className=\"Tracker_name\">{name}</span>\n        <span>{valueTrackAfterFormat}</span>\n        <span\n          className=\"material-icons button\"\n          onClick={() => handleClick(id, valueTrack)}\n        >\n          {!checkStart ? \"play_circle_outline\" : \"pause_circle_outline\"}\n        </span>\n      </div>\n      <span\n        className=\"material-icons button delete\"\n        onClick={() => removeTracker(id)}\n      >\n        remove_circle_outline\n      </span>\n    </div>\n  );\n};\n\nexport default Tracker;\n","import \"./App.css\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Input from \"./Components/Input/Input\";\nimport Tracker from \"./Components/Tracker/Tracker\";\nimport { startTick } from \"./redux/action/action\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const trackers = useSelector((store) => store.trackers).sort(\n    (a, b) => b.id - a.id\n  );\n\n  useEffect(() => {\n    let timer;\n    const activeTrackers = trackers.filter((tracker) => tracker.isStarted);\n    if (activeTrackers.length) {\n      timer = setInterval(() => dispatch(startTick()), 1000);\n    }\n    return () => {\n      clearInterval(timer);\n    };\n  }, [dispatch, trackers]);\n\n  return (\n    <div className=\"App\">\n      <h1>trackers</h1>\n      <Input />\n      {!trackers.length ? (\n        <h3>Trackers list is empty</h3>\n      ) : (\n        trackers.map((tracker) => <Tracker key={tracker.id} id={tracker.id} />)\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { combinedReducer } from \"./reducer\";\nimport { save } from \"redux-localstorage-simple\";\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst configureStore = (preloadedState) =>\n  createStore(\n    combinedReducer,\n    preloadedState,\n    composeEnhancers(\n      applyMiddleware(thunkMiddleware, save({ namespace: \"trackers-list\" }))\n    )\n  );\n\nexport const store = configureStore({});\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n  ADD_TRACKER,\n  DELETE_TRACKER,\n  STOP_TRACKER,\n  START_TRACKER,\n} from \"../actionTypes\";\nimport { load } from \"redux-localstorage-simple\";\n\nconst savedTrackers = load({ namespace: \"trackers-list\" });\n\nconst initialState =\n  savedTrackers && savedTrackers.trackers ? savedTrackers.trackers : [];\n\nexport const trackers = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_TRACKER:\n      return [...state, action.data];\n\n    case STOP_TRACKER: {\n      const st = state.filter((item) => item.id === action.id)[0];\n      st.currentTrackValue = action.currentTrackValue;\n      st.isStarted = false;\n      return [...state];\n    }\n\n    case START_TRACKER: {\n      const st = state.filter((item) => item.id === action.id)[0];\n      st.timeStart = Date.now();\n      st.isStarted = true;\n      return [...state];\n    }\n\n    case DELETE_TRACKER:\n      return state.filter((item) => item.id !== action.id);\n\n    default:\n      return state;\n  }\n};\n","import { START_TICK } from \"../actionTypes\";\n\nconst initialState = Date.now();\n\nexport const tick = (state = initialState, action) => {\n  switch (action.type) {\n    case START_TICK:\n      return action.ts;\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { trackers } from \"./trackers\";\nimport { tick } from \"./tick\";\n\nexport const combinedReducer = combineReducers({\n  trackers,\n  tick,\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}