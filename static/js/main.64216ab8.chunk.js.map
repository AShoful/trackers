{"version":3,"sources":["redux/actionTypes.js","Components/Input/Input.js","redux/action/action.js","Components/Tracker/format.js","Components/Tracker/Tracker.js","App.js","redux/store.js","hooks/useInterval.js","reportWebVitals.js","redux/reducer/trackers.js","redux/reducer/tick.js","redux/reducer/index.js","index.js"],"names":["ADD_TRACKER","DELETE_TRACKER","STOP_TRACKER","START_TRACKER","START_TICK","Input","useState","value","setValue","dispatch","useDispatch","handleSubmit","e","preventDefault","date","data","id","Date","now","name","toLocaleString","split","time","start","isStarted","type","addTracker","className","onSubmit","placeholder","onChange","target","onClick","format","t","pad","Math","floor","n","Tracker","isTick","useSelector","state","trackers","filter","item","tick","store","trackName","length","slice","valueTrack","valueTrackAfterFormat","stopTracker","startTracker","deleteTracker","App","preloadedState","sort","a","b","trackerIsRun","tracker","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useInterval","ts","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","savedTrackers","load","namespace","initialState","combinedReducer","combineReducers","action","st","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","save","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6QAAaA,EAAc,cACdC,EAAiB,iBACjBC,EAAe,eACfC,EAAgB,gBAChBC,EAAa,a,eCqCXC,EApCD,WAAO,IAAD,EACQC,mBAAS,IADjB,mBACXC,EADW,KACJC,EADI,KAEZC,EAAWC,cAGXC,EAAe,SAACC,GACpBA,EAAEC,iBACF,IAJmBC,EAIbC,EAAO,CACXC,GAAIC,KAAKC,MACTC,KAAMZ,IANWO,EAMUG,KAAKC,MANN,IAAID,KAAKH,GAAMM,iBAAiBC,MAAM,MAAM,IAOtEC,KAAM,EACNC,MAAON,KAAKC,MACZM,WAAW,GAEbf,ECTsB,SAACM,GAAD,MAAW,CACnCU,KAAMzB,EACNe,QDOWW,CAAWX,IACpBP,EAAS,KAGX,OACE,qBAAKmB,UAAU,QAAf,SACE,uBAAMA,UAAU,aAAaC,SAAUjB,EAAvC,UACE,uBACEgB,UAAU,cACVF,KAAK,OACLI,YAAY,qBACZC,SAAU,SAAClB,GAAD,OAAOJ,EAASI,EAAEmB,OAAOxB,QACnCA,MAAOA,IAET,sBAAMyB,QAASrB,EAAcgB,UAAU,4BAAvC,uCEjCKM,G,MAAS,SAACC,GAAD,gBACjBC,EAAIC,KAAKC,MAAOH,EAAI,IAAO,GAAK,GAAM,KADrB,YAC6BC,EAC/CC,KAAKC,MAAOH,EAAI,IAAO,GAAM,KAFX,YAGfC,EAAIC,KAAKC,MAAOH,EAAI,IAAQ,QAC7BC,EAAM,SAACG,GAAD,OAAQA,EAAI,GAAJ,WAAaA,GAAMA,GCuDxBC,EAjDC,SAAC,GAAoB,IAAlBvB,EAAiB,EAAjBA,GAAIwB,EAAa,EAAbA,OACf/B,EAAWC,cADiB,EAEO+B,aAAY,SAACC,GAAD,OACnDA,EAAMC,SAASC,QAAO,SAACC,GAAD,OAAUA,EAAK7B,KAAOA,QAC5C,GAFMG,EAF0B,EAE1BA,KAAMI,EAFoB,EAEpBA,MAAOD,EAFa,EAEbA,KAAME,EAFO,EAEPA,UAIrBsB,EAAOL,aAAY,SAACM,GAAD,OAAWA,EAAMD,QAEpCE,EAAY7B,EAAK8B,OAAS,GAAK9B,EAAK+B,MAAM,EAAG,GAAK,MAAQ/B,EAE1DgC,EAAaL,EAAOvB,EAAQD,EAE5B8B,EACFnB,EAD0BT,EACnB,IAAIP,KAAKkC,GACT,IAAIlC,KAAKK,IAEpB,OACE,sBAAKK,UAAWH,EAAY,iBAAmB,UAA/C,UACE,sBAAKG,UAAU,gBAAf,UACE,sBAAMA,UAAU,eAAhB,SAAgCqB,IAChC,+BAAOI,IACL5B,EAUA,sBACEG,UAAU,wBACVK,QAAS,kBAAMvB,EFvBA,SAACO,EAAIT,GAAL,MAAgB,CACzCkB,KAAMvB,EACNc,KACAT,SEoBkC8C,CAAYrC,EAAImC,KAF1C,kCATA,sBACExB,UAAU,wBACVK,QAAS,kBACPvB,EFTc,SAACO,EAAI8B,GAAL,MAAe,CACzCrB,KAAMtB,EACNa,KACA8B,QEMqBQ,CAAatC,EAAIwB,EAASM,EAAO7B,KAAKC,SAHnD,oCAiBJ,sBACES,UAAU,+BACVK,QAAS,kBAAMvB,EFpCM,SAACO,GAAD,MAAS,CACpCS,KAAMxB,EACNe,MEkC8BuC,CAAcvC,KAFxC,uCCbSwC,IC1BSC,ED0BTD,EA5Bf,WACE,IAAM/C,EAAWC,cACXiC,EAAWF,aAAY,SAACM,GAAD,OAAWA,EAAMJ,YAAUe,MACtD,SAACC,EAAGC,GAAJ,OAAUA,EAAE5C,GAAK2C,EAAE3C,MAEf6C,EAAelB,EAASC,QAAO,SAACkB,GAAD,OAAaA,EAAQtC,aAI1D,OEfK,SAAqBuC,EAAUC,GACpC,IAAMC,EAAgBC,mBAEtBC,qBAAU,WACRF,EAAcG,QAAUL,IACvB,CAACA,IAEJI,qBAAU,WACR,SAASrB,IACPmB,EAAcG,UAEhB,GAAc,OAAVJ,EAAgB,CAClBlB,IACA,IAAI9B,EAAKqD,YAAYvB,EAAMkB,GAC3B,OAAO,kBAAMM,cAActD,OAE5B,CAACgD,IFHJO,EAAY,kBAAM9D,EHmBY,CAC9BgB,KAAMrB,EACNoE,GAAIvD,KAAKC,UGrBgC2C,EAAaZ,OAAS,IAAO,MAGpE,sBAAKtB,UAAU,MAAf,UACE,0CACA,cAAC,EAAD,IACEgB,EAASM,OAGTN,EAAS8B,KAAI,SAACX,GAAD,OACX,cAAC,EAAD,CAEEtB,OAAQqB,EAAaZ,OACrBjC,GAAI8C,EAAQ9C,IAFP8C,EAAQ9C,OAJjB,4DGVO0D,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,6BCCRQ,EAAgBC,eAAK,CAAEC,UAAW,kBAElCC,EACJH,GAAiBA,EAAcxC,SAAWwC,EAAcxC,SAAW,GCT/D2C,EAAerE,KAAKC,MCEbqE,EAAkBC,YAAgB,CAC7C7C,SFQsB,WAAmC,IAAlCD,EAAiC,uDAAzB4C,EAAcG,EAAW,uCACxD,OAAQA,EAAOhE,MACb,KAAKzB,EACH,MAAM,GAAN,mBAAW0C,GAAX,CAAkB+C,EAAO1E,OAE3B,KAAKb,EACH,IAAMwF,EAAKhD,EAAME,QAAO,SAACC,GAAD,OAAUA,EAAK7B,KAAOyE,EAAOzE,MAAI,GAGzD,OAFA0E,EAAGpE,KAAOmE,EAAOlF,MACjBmF,EAAGlE,WAAY,EACR,YAAIkB,GAGb,KAAKvC,EACH,IAAMuF,EAAKhD,EAAME,QAAO,SAACC,GAAD,OAAUA,EAAK7B,KAAOyE,EAAOzE,MAAI,GAGzD,OAFA0E,EAAGnE,MAAQkE,EAAO3C,KAClB4C,EAAGlE,WAAY,EACR,YAAIkB,GAGb,KAAKzC,EACH,OAAOyC,EAAME,QAAO,SAACC,GAAD,OAAUA,EAAK7B,KAAOyE,EAAOzE,MAEnD,QACE,OAAO0B,IE9BXI,KDFkB,WAAmC,IAAlCJ,EAAiC,uDAAzB4C,EAAcG,EAAW,uCACpD,OAAQA,EAAOhE,MACb,KAAKrB,EACH,OAAOqF,EAAOjB,GAChB,QACE,OAAO9B,MJJPiD,EACc,kBAAXC,QAAuBA,OAAOC,qCACjCD,OAAOC,qCAAqC,IAC5CC,IAWO/C,GATWU,EASY,GARlCsC,YACER,EACA9B,EACAkC,EACEK,YAAgBC,IAAiBC,eAAK,CAAEb,UAAW,sBMNzDc,IAASC,OACP,cAAC,IAAD,CAAUrD,MAAOA,EAAjB,SACE,cAAC,IAAMsD,WAAP,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1B7B,M","file":"static/js/main.64216ab8.chunk.js","sourcesContent":["export const ADD_TRACKER = \"ADD_TRACKER\";\nexport const DELETE_TRACKER = \"DELETE_TRACKER\";\nexport const STOP_TRACKER = \"STOP_TRACKER\";\nexport const START_TRACKER = \"START_TRACKER\";\nexport const START_TICK = \"START_TICK\";\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { addTracker } from \"../../redux/action/action\";\nimport \"./Input.css\";\n\nconst Input = () => {\n  const [value, setValue] = useState(\"\");\n  const dispatch = useDispatch();\n  const defaultName = (date) => new Date(date).toLocaleString().split(\", \")[0];\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const data = {\n      id: Date.now(),\n      name: value || defaultName(Date.now()),\n      time: 0,\n      start: Date.now(),\n      isStarted: true,\n    };\n    dispatch(addTracker(data));\n    setValue(\"\");\n  };\n\n  return (\n    <div className=\"Input\">\n      <form className=\"Input_form\" onSubmit={handleSubmit}>\n        <input\n          className=\"Input_input\"\n          type=\"text\"\n          placeholder=\"enter tracker name\"\n          onChange={(e) => setValue(e.target.value)}\n          value={value}\n        />\n        <span onClick={handleSubmit} className=\"material-icons Input_span\">\n          play_circle_outline\n        </span>\n      </form>\n    </div>\n  );\n};\n\nexport default Input;\n","import {\n  ADD_TRACKER,\n  DELETE_TRACKER,\n  STOP_TRACKER,\n  START_TRACKER,\n  START_TICK,\n} from \"../actionTypes\";\n\n// --- action trackers\n\nexport const addTracker = (data) => ({\n  type: ADD_TRACKER,\n  data,\n});\n\nexport const deleteTracker = (id) => ({\n  type: DELETE_TRACKER,\n  id,\n});\n\nexport const stopTracker = (id, value) => ({\n  type: STOP_TRACKER,\n  id,\n  value,\n});\n\nexport const startTracker = (id, tick) => ({\n  type: START_TRACKER,\n  id,\n  tick,\n});\n\n// --- action tick\n\nexport const startTick = () => ({\n  type: START_TICK,\n  ts: Date.now(),\n});\n","export const format = (t) =>\n  `${pad(Math.floor((t / 1000 / 60 / 60) % 60))}:${pad(\n    Math.floor((t / 1000 / 60) % 60)\n  )}:${pad(Math.floor((t / 1000) % 60))}`;\nconst pad = (n) => (n < 10 ? `0${n}` : n);\n","import React from \"react\";\nimport \"./Tracker.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  deleteTracker,\n  stopTracker,\n  startTracker,\n} from \"../../redux/action/action\";\nimport { format } from \"./format\";\n\nconst Tracker = ({ id, isTick }) => {\n  const dispatch = useDispatch();\n  const { name, start, time, isStarted } = useSelector((state) =>\n    state.trackers.filter((item) => item.id === id)\n  )[0];\n\n  const tick = useSelector((store) => store.tick);\n\n  const trackName = name.length > 10 ? name.slice(0, 7) + \"...\" : name;\n\n  const valueTrack = tick - start + time;\n\n  const valueTrackAfterFormat = isStarted\n    ? format(new Date(valueTrack))\n    : format(new Date(time));\n\n  return (\n    <div className={isStarted ? \"Tracker active\" : \"Tracker\"}>\n      <div className=\"Tracker_panel\">\n        <span className=\"Tracker_name\">{trackName}</span>\n        <span>{valueTrackAfterFormat}</span>\n        {!isStarted ? (\n          <span\n            className=\"material-icons button\"\n            onClick={() =>\n              dispatch(startTracker(id, isTick ? tick : Date.now()))\n            }\n          >\n            play_circle_outline\n          </span>\n        ) : (\n          <span\n            className=\"material-icons button\"\n            onClick={() => dispatch(stopTracker(id, valueTrack))}\n          >\n            pause_circle_outline\n          </span>\n        )}\n      </div>\n      <span\n        className=\"material-icons button delete\"\n        onClick={() => dispatch(deleteTracker(id))}\n      >\n        remove_circle_outline\n      </span>\n    </div>\n  );\n};\n\nexport default Tracker;\n","import \"./App.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Input from \"./Components/Input/Input\";\nimport Tracker from \"./Components/Tracker/Tracker\";\nimport { startTick } from \"./redux/action/action\";\nimport { useInterval } from \"./hooks/useInterval\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const trackers = useSelector((store) => store.trackers).sort(\n    (a, b) => b.id - a.id\n  );\n  const trackerIsRun = trackers.filter((tracker) => tracker.isStarted);\n\n  useInterval(() => dispatch(startTick()), trackerIsRun.length ? 1000 : null);\n\n  return (\n    <div className=\"App\">\n      <h1>trackers</h1>\n      <Input />\n      {!trackers.length ? (\n        <h3>Trackers list is empty</h3>\n      ) : (\n        trackers.map((tracker) => (\n          <Tracker\n            key={tracker.id}\n            isTick={trackerIsRun.length}\n            id={tracker.id}\n          />\n        ))\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { combinedReducer } from \"./reducer\";\nimport { save } from \"redux-localstorage-simple\";\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst configureStore = (preloadedState) =>\n  createStore(\n    combinedReducer,\n    preloadedState,\n    composeEnhancers(\n      applyMiddleware(thunkMiddleware, save({ namespace: \"trackers-list\" }))\n    )\n  );\n\nexport const store = configureStore({});\n","import { useEffect, useRef } from \"react\";\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      tick();\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n  ADD_TRACKER,\n  DELETE_TRACKER,\n  STOP_TRACKER,\n  START_TRACKER,\n} from \"../actionTypes\";\nimport { load } from \"redux-localstorage-simple\";\n\nconst savedTrackers = load({ namespace: \"trackers-list\" });\n\nconst initialState =\n  savedTrackers && savedTrackers.trackers ? savedTrackers.trackers : [];\n\nexport const trackers = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_TRACKER:\n      return [...state, action.data];\n\n    case STOP_TRACKER: {\n      const st = state.filter((item) => item.id === action.id)[0];\n      st.time = action.value;\n      st.isStarted = false;\n      return [...state];\n    }\n\n    case START_TRACKER: {\n      const st = state.filter((item) => item.id === action.id)[0];\n      st.start = action.tick;\n      st.isStarted = true;\n      return [...state];\n    }\n\n    case DELETE_TRACKER:\n      return state.filter((item) => item.id !== action.id);\n\n    default:\n      return state;\n  }\n};\n","import { START_TICK } from \"../actionTypes\";\n\nconst initialState = Date.now();\n\nexport const tick = (state = initialState, action) => {\n  switch (action.type) {\n    case START_TICK:\n      return action.ts;\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { trackers } from \"./trackers\";\nimport { tick } from \"./tick\";\n\nexport const combinedReducer = combineReducers({\n  trackers,\n  tick,\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}