{"version":3,"sources":["redux/actionTypes.js","Components/Input/Input.js","redux/action/action.js","Components/Tracker/Tracker.js","App.js","redux/store.js","reportWebVitals.js","redux/reducer/trackers.js","redux/reducer/tick.js","redux/reducer/index.js","index.js"],"names":["ADD_TRACKER","DELETE_TRACKER","STOP_TRACKER","START_TRACKER","START_TICK","Input","useState","value","setValue","dispatch","useDispatch","tick","useSelector","state","Date","now","handleSubmit","e","preventDefault","date","data","id","name","toLocaleString","split","currentTrackValue","timeStart","isStarted","type","addTracker","className","onSubmit","placeholder","onChange","target","onClick","format","t","pad","Math","floor","getUTCMinutes","getUTCSeconds","n","Tracker","removeTracker","deleteTracker","tracker","trackers","filter","item","store","checkStart","length","slice","valueTrack","valueTrackAfterFormat","handleStopTraker","stopTracker","handleStartTracker","startTracker","App","preloadedState","sort","a","b","useEffect","timer","setInterval","ts","clearInterval","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","savedTrackers","load","namespace","initialState","combinedReducer","combineReducers","action","st","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","save","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.252f451c.chunk.js","sourcesContent":["export const ADD_TRACKER = \"ADD_TRACKER\";\nexport const DELETE_TRACKER = \"DELETE_TRACKER\";\nexport const STOP_TRACKER = \"STOP_TRACKER\";\nexport const START_TRACKER = \"START_TRACKER\";\nexport const START_TICK = \"START_TICK\";\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addTracker } from \"../../redux/action/action\";\nimport \"./Input.css\";\n\nconst Input = () => {\n  const [value, setValue] = useState(\"\");\n  const dispatch = useDispatch();\n  const tick = useSelector((state) => state.tick) || Date.now();\n  const defaultName = (date) => new Date(date).toLocaleString().split(\", \")[0];\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const data = {\n      id: Date.now(),\n      name: value || defaultName(Date.now()),\n      currentTrackValue: 0,\n      timeStart: tick,\n      isStarted: true,\n    };\n    dispatch(addTracker(data));\n    setValue(\"\");\n  };\n\n  return (\n    <div className=\"Input\">\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"enter tracker's name\"\n          onChange={(e) => setValue(e.target.value)}\n          value={value}\n        />\n        <span onClick={handleSubmit} className=\"material-icons\">\n          play_circle_outline\n        </span>\n      </form>\n    </div>\n  );\n};\n\nexport default Input;\n","import {\n  ADD_TRACKER,\n  DELETE_TRACKER,\n  STOP_TRACKER,\n  START_TRACKER,\n  START_TICK,\n} from \"../actionTypes\";\n\n// --- action trackers\n\nexport const addTracker = (data) => ({\n  type: ADD_TRACKER,\n  data,\n});\n\nexport const deleteTracker = (id) => ({\n  type: DELETE_TRACKER,\n  id,\n});\n\nexport const stopTracker = (id, currentTrackValue) => ({\n  type: STOP_TRACKER,\n  id,\n  currentTrackValue,\n});\n\nexport const startTracker = (id, tick) => ({\n  type: START_TRACKER,\n  id,\n  tick,\n});\n\n// --- action tick\n\nexport const startTick = () => ({\n  type: START_TICK,\n  ts: Date.now(),\n});\n","import React from \"react\";\nimport \"./Tracker.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  deleteTracker,\n  stopTracker,\n  startTracker,\n} from \"../../redux/action/action\";\n\nconst format = (t) =>\n  `${pad(Math.floor(t / 1000 / 60 / 60))}:${pad(t.getUTCMinutes())}:${pad(\n    t.getUTCSeconds()\n  )}`;\nconst pad = (n) => (n < 10 ? `0${n}` : n);\n\nconst Tracker = ({ id }) => {\n  const dispatch = useDispatch();\n  const removeTracker = (id) => dispatch(deleteTracker(id));\n  const tracker = useSelector((state) =>\n    state.trackers.filter((item) => item.id === id)\n  )[0];\n  const tick = useSelector((store) => store.tick);\n\n  const checkStart = tracker.isStarted;\n\n  const name =\n    tracker.name.length > 10 ? tracker.name.slice(0, 7) + \"...\" : tracker.name;\n\n  const valueTrack = tick - tracker.timeStart + tracker.currentTrackValue;\n\n  const valueTrackAfterFormat = checkStart\n    ? format(new Date(valueTrack))\n    : format(new Date(tracker.currentTrackValue));\n\n  const handleStopTraker = (id, value) => {\n    dispatch(stopTracker(id, value));\n  };\n\n  const handleStartTracker = (id, tick) => {\n    dispatch(startTracker(id, tick));\n  };\n\n  return (\n    <div className={checkStart ? \"Tracker\" : \"Tracker stop\"}>\n      <div className=\"Tracker_panel\">\n        <span className=\"Tracker_name\">{name}</span>\n        <span>{valueTrackAfterFormat}</span>\n        {!checkStart ? (\n          <span\n            className=\"material-icons button\"\n            onClick={() => handleStartTracker(id, tick)}\n          >\n            play_circle_outline\n          </span>\n        ) : (\n          <span\n            className=\"material-icons button\"\n            onClick={() => handleStopTraker(id, valueTrack)}\n          >\n            pause_circle_outline\n          </span>\n        )}\n      </div>\n      <span\n        className=\"material-icons button delete\"\n        onClick={() => removeTracker(id)}\n      >\n        remove_circle_outline\n      </span>\n    </div>\n  );\n};\n\nexport default Tracker;\n","import \"./App.css\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Input from \"./Components/Input/Input\";\nimport Tracker from \"./Components/Tracker/Tracker\";\nimport { startTick } from \"./redux/action/action\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const trackers = useSelector((store) => store.trackers).sort(\n    (a, b) => b.id - a.id\n  );\n\n  useEffect(() => {\n    const timer = setInterval(() => dispatch(startTick()), 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [dispatch, trackers]);\n\n  return (\n    <div className=\"App\">\n      <h1>trackers</h1>\n      <Input />\n      {!trackers.length ? (\n        <h3>Trackers list is empty</h3>\n      ) : (\n        trackers.map((tracker) => <Tracker key={tracker.id} id={tracker.id} />)\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { combinedReducer } from \"./reducer\";\nimport { save } from \"redux-localstorage-simple\";\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst configureStore = (preloadedState) =>\n  createStore(\n    combinedReducer,\n    preloadedState,\n    composeEnhancers(\n      applyMiddleware(thunkMiddleware, save({ namespace: \"trackers-list\" }))\n    )\n  );\n\nexport const store = configureStore({});\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n  ADD_TRACKER,\n  DELETE_TRACKER,\n  STOP_TRACKER,\n  START_TRACKER,\n} from \"../actionTypes\";\nimport { load } from \"redux-localstorage-simple\";\n\nconst savedTrackers = load({ namespace: \"trackers-list\" });\n\nconst initialState =\n  savedTrackers && savedTrackers.trackers ? savedTrackers.trackers : [];\n\nexport const trackers = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_TRACKER:\n      return [...state, action.data];\n\n    case STOP_TRACKER: {\n      const st = state.filter((item) => item.id === action.id)[0];\n      st.currentTrackValue = action.currentTrackValue;\n      st.isStarted = false;\n      return [...state];\n    }\n\n    case START_TRACKER: {\n      const st = state.filter((item) => item.id === action.id)[0];\n      st.timeStart = action.tick;\n      st.isStarted = true;\n      return [...state];\n    }\n\n    case DELETE_TRACKER:\n      return state.filter((item) => item.id !== action.id);\n\n    default:\n      return state;\n  }\n};\n","import { START_TICK } from \"../actionTypes\";\n\nconst initialState = Date.now();\n\nexport const tick = (state = initialState, action) => {\n  switch (action.type) {\n    case START_TICK:\n      return action.ts;\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { trackers } from \"./trackers\";\nimport { tick } from \"./tick\";\n\nexport const combinedReducer = combineReducers({\n  trackers,\n  tick,\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}