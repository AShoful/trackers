{"version":3,"sources":["redux/actionTypes.js","Components/Input/Input.js","redux/action/action.js","Components/Tracker/format.js","Components/Tracker/Tracker.js","App.js","redux/store.js","hooks/useInterval.js","reportWebVitals.js","redux/reducer/trackers.js","redux/reducer/tick.js","redux/reducer/index.js","index.js"],"names":["ADD_TRACKER","DELETE_TRACKER","STOP_TRACKER","START_TRACKER","START_TICK","Input","useState","value","setValue","dispatch","useDispatch","handleSubmit","e","preventDefault","date","data","id","Date","now","name","toLocaleString","split","time","start","isStarted","type","addTracker","className","onSubmit","placeholder","onChange","target","onClick","format","t","p","pad","Math","floor","n","Tracker","isTick","useSelector","state","trackers","filter","item","tick","store","trackName","length","slice","valueTrack","valueTrackAfterFormat","stopTracker","startTracker","deleteTracker","App","preloadedState","sort","a","b","trackerIsRun","tracker","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useInterval","ts","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","savedTrackers","load","namespace","initialState","combinedReducer","combineReducers","action","st","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","save","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d99221e.chunk.js","sourcesContent":["export const ADD_TRACKER = \"ADD_TRACKER\";\nexport const DELETE_TRACKER = \"DELETE_TRACKER\";\nexport const STOP_TRACKER = \"STOP_TRACKER\";\nexport const START_TRACKER = \"START_TRACKER\";\nexport const START_TICK = \"START_TICK\";\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addTracker } from \"../../redux/action/action\";\r\nimport \"./Input.css\";\r\n\r\nconst Input = () => {\r\n  const [value, setValue] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const defaultName = (date) => new Date(date).toLocaleString().split(\", \")[0];\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      id: Date.now(),\r\n      name: value || defaultName(Date.now()),\r\n      time: 0,\r\n      start: Date.now(),\r\n      isStarted: true,\r\n    };\r\n    dispatch(addTracker(data));\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"Input\">\r\n      <form className=\"Input_form\" onSubmit={handleSubmit}>\r\n        <input\r\n          className=\"Input_input\"\r\n          type=\"text\"\r\n          placeholder=\"enter tracker name\"\r\n          onChange={(e) => setValue(e.target.value)}\r\n          value={value}\r\n        />\r\n        <span onClick={handleSubmit} className=\"material-icons Input_span\">\r\n          play_circle_outline\r\n        </span>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import {\r\n  ADD_TRACKER,\r\n  DELETE_TRACKER,\r\n  STOP_TRACKER,\r\n  START_TRACKER,\r\n  START_TICK,\r\n} from \"../actionTypes\";\r\n\r\n// --- action trackers\r\n\r\nexport const addTracker = (data) => ({\r\n  type: ADD_TRACKER,\r\n  data,\r\n});\r\n\r\nexport const deleteTracker = (id) => ({\r\n  type: DELETE_TRACKER,\r\n  id,\r\n});\r\n\r\nexport const stopTracker = (id, value) => ({\r\n  type: STOP_TRACKER,\r\n  id,\r\n  value,\r\n});\r\n\r\nexport const startTracker = (id, tick) => ({\r\n  type: START_TRACKER,\r\n  id,\r\n  tick,\r\n});\r\n\r\n// --- action tick\r\n\r\nexport const startTick = () => ({\r\n  type: START_TICK,\r\n  ts: Date.now(),\r\n});\r\n","export const format = (t) => {\r\n  const p = t > 0 ? t : 0;\r\n  return `${pad(Math.floor((p / 1000 / 60 / 60) % 60))}:${pad(\r\n    Math.floor((p / 1000 / 60) % 60)\r\n  )}:${pad(Math.floor((p / 1000) % 60))}`;\r\n};\r\n\r\nconst pad = (n) => (n < 10 ? `0${n}` : n);\r\n","import React from \"react\";\r\nimport \"./Tracker.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  deleteTracker,\r\n  stopTracker,\r\n  startTracker,\r\n} from \"../../redux/action/action\";\r\nimport { format } from \"./format\";\r\n\r\nconst Tracker = ({ id, isTick }) => {\r\n  const dispatch = useDispatch();\r\n  const { name, start, time, isStarted } = useSelector((state) =>\r\n    state.trackers.filter((item) => item.id === id)\r\n  )[0];\r\n\r\n  const tick = useSelector((store) => store.tick);\r\n\r\n  const trackName = name.length > 10 ? name.slice(0, 7) + \"...\" : name;\r\n\r\n  const valueTrack = tick - start + time;\r\n\r\n  const valueTrackAfterFormat = isStarted\r\n    ? format(new Date(valueTrack))\r\n    : format(new Date(time));\r\n\r\n  return (\r\n    <div className={isStarted ? \"Tracker active\" : \"Tracker\"}>\r\n      <div className=\"Tracker_panel\">\r\n        <span className=\"Tracker_name\">{trackName}</span>\r\n        <span>{valueTrackAfterFormat}</span>\r\n        {!isStarted ? (\r\n          <span\r\n            className=\"material-icons button\"\r\n            onClick={() =>\r\n              dispatch(startTracker(id, isTick ? tick : Date.now()))\r\n            }\r\n          >\r\n            play_circle_outline\r\n          </span>\r\n        ) : (\r\n          <span\r\n            className=\"material-icons button\"\r\n            onClick={() => dispatch(stopTracker(id, valueTrack))}\r\n          >\r\n            pause_circle_outline\r\n          </span>\r\n        )}\r\n      </div>\r\n      <span\r\n        className=\"material-icons button delete\"\r\n        onClick={() => dispatch(deleteTracker(id))}\r\n      >\r\n        remove_circle_outline\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tracker;\r\n","import \"./App.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport Input from \"./Components/Input/Input\";\r\nimport Tracker from \"./Components/Tracker/Tracker\";\r\nimport { startTick } from \"./redux/action/action\";\r\nimport { useInterval } from \"./hooks/useInterval\";\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const trackers = useSelector((store) => store.trackers).sort(\r\n    (a, b) => b.id - a.id\r\n  );\r\n  const trackerIsRun = trackers.filter((tracker) => tracker.isStarted);\r\n\r\n  useInterval(() => dispatch(startTick()), trackerIsRun.length ? 1000 : null);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>trackers</h1>\r\n      <Input />\r\n      {!trackers.length ? (\r\n        <h3>Trackers list is empty</h3>\r\n      ) : (\r\n        trackers.map((tracker) => (\r\n          <Tracker\r\n            key={tracker.id}\r\n            isTick={trackerIsRun.length}\r\n            id={tracker.id}\r\n          />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { combinedReducer } from \"./reducer\";\nimport { save } from \"redux-localstorage-simple\";\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst configureStore = (preloadedState) =>\n  createStore(\n    combinedReducer,\n    preloadedState,\n    composeEnhancers(\n      applyMiddleware(thunkMiddleware, save({ namespace: \"trackers-list\" }))\n    )\n  );\n\nexport const store = configureStore({});\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      tick();\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  ADD_TRACKER,\r\n  DELETE_TRACKER,\r\n  STOP_TRACKER,\r\n  START_TRACKER,\r\n} from \"../actionTypes\";\r\nimport { load } from \"redux-localstorage-simple\";\r\n\r\nconst savedTrackers = load({ namespace: \"trackers-list\" });\r\n\r\nconst initialState =\r\n  savedTrackers && savedTrackers.trackers ? savedTrackers.trackers : [];\r\n\r\nexport const trackers = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_TRACKER:\r\n      return [...state, action.data];\r\n\r\n    case STOP_TRACKER: {\r\n      const st = state.filter((item) => item.id === action.id)[0];\r\n      st.time = action.value;\r\n      st.isStarted = false;\r\n      return [...state];\r\n    }\r\n\r\n    case START_TRACKER: {\r\n      const st = state.filter((item) => item.id === action.id)[0];\r\n      st.start = action.tick;\r\n      st.isStarted = true;\r\n      return [...state];\r\n    }\r\n\r\n    case DELETE_TRACKER:\r\n      return state.filter((item) => item.id !== action.id);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { START_TICK } from \"../actionTypes\";\r\n\r\nconst initialState = Date.now();\r\n\r\nexport const tick = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case START_TICK:\r\n      return action.ts;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { trackers } from \"./trackers\";\r\nimport { tick } from \"./tick\";\r\n\r\nexport const combinedReducer = combineReducers({\r\n  trackers,\r\n  tick,\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}